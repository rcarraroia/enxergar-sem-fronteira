#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸš€ Executando verificaÃ§Ãµes antes do push..."

# Verificar se hÃ¡ arquivos nÃ£o commitados
if ! git diff-index --quiet HEAD --; then
    echo "âŒ Erro: HÃ¡ arquivos modificados nÃ£o commitados"
    echo "Por favor, commit ou stash suas mudanÃ§as antes do push"
    exit 1
fi

# Executar build para garantir que nÃ£o hÃ¡ erros
echo "ğŸ”¨ Verificando build..."
npm run build

# Executar testes crÃ­ticos
echo "ğŸ§ª Executando testes crÃ­ticos..."
npm run test:critical

# Verificar qualidade geral
echo "ğŸ” Verificando qualidade do cÃ³digo..."
npm run quality:check

echo "âœ… Todas as verificaÃ§Ãµes passaram! Push liberado."
